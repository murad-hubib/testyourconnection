<!DOCTYPE html>
<html lang="en" dir="ltr" class="js fa-events-icons-ready"
      style="--primary:#2042cb; --primary-lighten-60:#A6B3EA; --primary-darken-30:#162E8E; --secondary:#0093d3; --secondary-lighten-60:#99D4ED; --secondary-darken-30:#006794; --header-top:#002960; --header-top-lighten-60:#99A9BF; --header-top-darken-30:#001D43; --dark-gray:#4A4A4A; --dark-gray-lighten-60:#B7B7B7; --dark-gray-darken-30:#343434;">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, maximum-scale=1, user-scalable=no">

    <title>Academy</title>
    <meta property="og:title" content="Academy">

    <meta name="description"
          content="McKinsey Academy helps organizations thrive by accelerating their talent advantage">
    <meta property="og:description"
          content="McKinsey Academy helps organizations thrive by accelerating their talent advantage">

    <script src="static/js/css-vars-ponyfill.js"></script>
    <style type="text/css">
        :root {

            --primary: #2042cb !important;

            --primary-lighten-60: #A6B3EA !important;

            --primary-darken-30: #162E8E !important;

            --secondary: #0093d3 !important;

            --secondary-lighten-60: #99D4ED !important;

            --secondary-darken-30: #006794 !important;

            --header-top: #002960 !important;

            --header-top-lighten-60: #99A9BF !important;

            --header-top-darken-30: #001D43 !important;

            --dark-gray: #4A4A4A !important;

            --dark-gray-lighten-60: #B7B7B7 !important;

            --dark-gray-darken-30: #343434 !important;

        }
    </style>
    <script>

        var primary = "#2042cb";

        var primary_lighten_60 = "#A6B3EA";

        var primary_darken_30 = "#162E8E";

        var secondary = "#0093d3";

        var secondary_lighten_60 = "#99D4ED";

        var secondary_darken_30 = "#006794";

        var header_top = "#002960";

        var header_top_lighten_60 = "#99A9BF";

        var header_top_darken_30 = "#001D43";

        var dark_gray = "#4A4A4A";

        var dark_gray_lighten_60 = "#B7B7B7";

        var dark_gray_darken_30 = "#343434";


    </script>

    <link rel="stylesheet" href="static/css/connection.css" class="pony">


    <script>
        var variables = {
            'primary': '#2042cb',
            'primary-lighten-60': '#A6B3EA',
            'primary-darken-30': '#162E8E',
            'secondary': '#0093d3',
            'secondary-lighten-60': '#99D4ED',
            'secondary-darken-30': '#006794',
            'header-top': '#002960',
            'header-top-lighten-60': '#99A9BF',
            'header-top-darken-30': '#001D43',
            'dark-gray': '#4A4A4A',
            'dark-gray-lighten-60': '#B7B7B7',
            'dark-gray-darken-30': '#343434'
        };
        cssVars({
            onlyVars: true,
            include: 'link.pony',
            variables: variables,
            watch: true
        });


    </script>
    <script>
        var variables = {}
        if (primary !== null) {
            variables = {
                '--primary': primary,
                '--secondary': secondary,
                '--header-top': header_top
            };
        }
        cssVars({
            onlyVars: true,
            include: 'link.pony',
            variables: variables,
            watch: true
        });

    </script>

    <meta property="og:site_name" content="McKinsey Academy">
    <meta property="og:image" content="static/image/McKA_OG.png">


    <link rel="shortcut icon" href="static/favicons/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="static/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="static/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="static/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="static/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="static/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="static/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="static/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="static/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="static/favicons/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="static/favicons/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="static/favicons/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="static/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="static/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="static/favicons/favicon-32x32.png" sizes="32x32">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-TileImage" content="static/favicons/mstile-144x144.png">
    <meta name="msapplication-config" content="static/favicons/browserconfig.xml">


    <script src="static/js/jquery.min.js"></script>
</head>
<body style="display: block;" class="site-wrapper ltr     new-theme" data-new-gr-c-s-check-loaded="14.1067.0"
      data-gr-ext-installed="">


<header class=" appHeader">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="logo clearfix">
                    <div class="all-logos">
                        <a href="/" class="navbar-brand MckAcademy black">
                            <img src="static/image/McK_Academy_RGB_Black@2x.png" width="" alt="McKinsey Academy Logo">
                        </a>
                        <a href="/" class="navbar-brand MckAcademy white">
                            <img src="static/image/McK_Academy_RGB_White@2x.png" width="" alt="McKinsey Academy Logo">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>


<main role="main" class="fadeIn animated delay-1s">
    <div class="preloader" id="overlayer">
        <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
        <p><strong>Getting started ... !</strong><br />It may take just few moments.</p>
    </div>
    <div class="container">
        <div class="row connectionWrap">
            <div class="col-lg-12 static-page">
                <h1>Test Your Connection</h1>
                <div id="mainCertificatesTemplateListContainer">
                    <div class="activation_link" id="certificatesTemplateListTitle">
                        <p>Having trouble? We're running automated tests below to figure out what's wrong.</p>
                    </div>
                    <div id="certificateTemplateCreateButton">
                        <button type="button" title="Copy to clipboard." style="min-width:100px"
                                class="copy-access-key button btn btn-secondary small radius">
                            Copy Results to Clipboard
                        </button>
                        <span style="position:absolute;top:50px;" class="tooltip">
              Copied.
              <span class="nub"></span>
            </span>
                        <a onclick="exportJson(this);" style="min-width:100px" background="transparent !important;"
                           class="button btn btn-secondary small radius">
                            Export Results
                        </a>
                    </div>
                    <div class="row" id="mainCertificatesTemplateListGridContainer">
                        <div class="col-lg-7">
                            <div class="wrapBox" id="mainBrowserInfoTemplateListGridWrapper">
                                <h5>Browser Information</h5>

                                <div id="browserInfoListViewGridBlock">
                                    <table>
                                        <tbody id="browserInfo-tbody">
                                        <tr>
                                            <td>Cookies Enabled:</td>
                                            <td id="cookie-result"></td>
                                        </tr>
                                    </table>
                                </div>
                                <iframe src="https://checkcookie-3rdparty.s3.amazonaws.com/start.html"
                                        style="display:none"></iframe>
                            </div>
                            <div class="wrapBox" id="mainServerAuthTemplateListGridWrapper">
                                <h5>Connection to Servers</h5>

                                <div id="ServerAuthTemplateListViewGridBlock">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="wrapBox" id="mainSpeedTestTemplateListGridWrapper">
                                <h5>Speed Test</h5>

                                <div id="speedTestTemplateListViewGridBlock">

                                    <div class="sc-is-visible sc-is-shown" id="sc-titles">
                                        <div class="sc-title" id="sc-title-ping">
                                            <span class="sc-value">Ping</span>
                                        </div>
                                        <div class="sc-title" id="sc-title-download">
                                            <span class="sc-value">Download</span>
                                        </div>
                                        <div class="sc-title" id="sc-title-upload">
                                            <span class="sc-value">Upload</span>
                                        </div>
                                    </div>
                                    <div id="sc-container">
                                        <div id="sc-branding" class="sc-bb">
                                            <a target="_blank" href="https://www.speedcheck.org/">
                                                <img src="https://cdn.speedcheck.org/branding/speedcheck-logo-18.png"
                                                     alt="Speedcheck">
                                            </a>
                                        </div>
                                    </div>
                                    <script async src="https://cdn.speedcheck.org/basic/scbjs.min.js"></script>
                                    <p class="disclaimer-text"><i><b>Disclaimer:</b> This tool does not collect any personal information of the user, it just captures browser info, cookies status and network strength for troubleshooting purpose only.</i></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>


<footer class="fadeIn animated delay-1s sticky-stopper">
    <div class="container">
        <div class="row">
            <div class="col- footerLinks">
                <ul class="nav justify-content-end">
                    <li class="nav-item">
                        <a href="https://www.mckinsey.com/" target="_blank" class="nav-link">McKinsey.com</a>
                    </li>
                    <li class="nav-item">
                        <a href="https://www.mckinsey.com/business-functions/learning-programs-for-clients/overview/mckinsey-academy/how-we-help-clients"
                           target="_blank" class="nav-link">
                            About
                        </a>
                    </li>
                </ul>
            </div>
            <div class="col- copyright">
                Ⓒ 2022 McKinsey &amp; Company. All Rights Reserved.

            </div>
        </div>
    </div>
</footer>


<script src="static/js/clipboard.min.js"></script>
<script src="static/js/ua-parser.min.js"></script>
<script type="text/javascript">
    var date = new Date();
    var parser = new UAParser();
    var result = parser.getResult();

    var local_storage = '';
    if (storageAvailable('localStorage')) {
        local_storage = 'Enabled'
    } else {
        local_storage = 'Disabled'
    }

    var session_storage = '';
    if (storageAvailable('sessionStorage')) {
        session_storage = 'Enabled'
    } else {
        session_storage = 'Disabled'
    }

    var receiveMessage = function (evt) {
        if (evt.data === 'MM:3PCunsupported') {
            document.getElementById('cookie-result').innerHTML = 'False';
            result['cookie_enabled'] = 'False';
        } else if (evt.data === 'MM:3PCsupported') {
            document.getElementById('cookie-result').innerHTML = 'True';
            result['cookie_enabled'] = 'True';
        }
    };
    window.addEventListener("message", receiveMessage, false);

    var txt = '';
    txt += "<tr><td>Browser Name: </td><td>" + result.browser.name + "</td>";
    txt += "<tr><td>Browser Version: </td><td>" + result.browser.version + "</td>";
    txt += "<tr><td>Operating System: </td><td>" + result.os.name + "</td>";
    txt += "<tr><td>User Agent: </td><td>" + navigator.userAgent + "</td>";
    txt += "<tr><td>Local Time: </td><td>" + date + "</td>";
    txt += "<tr><td>Local Storage: </td><td>" + local_storage + "</td>";
    txt += "<tr><td>Session Storage: </td><td>" + session_storage + "</td>";
    var info_body = document.getElementById("browserInfo-tbody").innerHTML;
    document.getElementById("browserInfo-tbody").innerHTML = info_body + txt;

    result['local_time'] = date.toString();
    result['local_storge'] = local_storage;
    result['session_storge'] = session_storage;

    function enableCopyButton() {
        var copyBtn = $('.copy-access-key');
        var clipboard = new ClipboardJS('.copy-access-key', {
            text: function (trigger) {
                return JSON.stringify(result);
            }
        });
        var tooltip = copyBtn.siblings('.tooltip');
        clipboard.on('success', function (e) {
            tooltip.show();
        });
        copyBtn.on('mouseout', function (event) {
            tooltip.fadeOut();
        });
    }

    function storageAvailable(type) {
        var storage;
        try {
            storage = window[type];
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            return true;
        } catch (e) {
            return e instanceof DOMException && (
                    // everything except Firefox
                e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                (storage && storage.length !== 0);
        }
    }

    function getSpeedCheckResults() {
        function getTextSpeedCheck($getSCText) {
            return $getSCText.find('.sc-value').text() + $getSCText.find('.sc-unit').text();
        }

        let $ping = $('#sc-results #sc-results-ping');
        result['ping'] = getTextSpeedCheck($ping);
        let $download = $('#sc-results #sc-results-download');
        result['download'] = getTextSpeedCheck($download);
        let $upload = $('#sc-results #sc-results-upload');
        result['upload'] = getTextSpeedCheck($upload);
    }

    function exportJson(el) {
        getSpeedCheckResults();
        var jsonData = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(result));
        el.setAttribute("href", "data:" + jsonData);
        el.setAttribute("download", "testconnection.json");
    }

    function fetchServerDetails(url){
        return new Promise(function(resolve, reject) {
            $.ajax({
                method: 'GET',
                url: url,
                dataType: 'json',
            })
            .done(function(data, textStatus, xhr) {
                if (xhr.status === 200)
                {
                    if (data['statusCode'] == 200)
                    {
                        server_details = $.parseJSON(data['body']);

                        server_txt = "<table><tbody>";
                        server_txt+= "<tr><td>LMS:</td><td>" + server_details.accelerate_response_status + "</td><td>"+ server_details.accelerate_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>Video provider:</td><td>" + server_details.brightcove_response_status + "</td><td>"+ server_details.brightcove_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>Content provider:</td><td>" + server_details.elucidat_app_health_response_status + "</td><td>"+ server_details.elucidat_app_health_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>Content provider api:</td><td>" + server_details.elucidat_api_health_response_status + "</td><td>"+ server_details.elucidat_api_health_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>Content provider gateway:</td><td>" + server_details.elucidat_api_gateway_health_response_status + "</td><td>"+ server_details.elucidat_api_gateway_health_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>US-EAST-1:</td><td>" + server_details.us_east_1_response_status + "</td><td>"+ server_details.us_east_1_response_time + " sec." + "</td>";
                        server_txt+= "<tr><td>EU-WEST-1:</td><td>" + server_details.eu_west_1_response_status + "</td><td>"+ server_details.eu_west_1_response_time + " sec." + "</td>";
                        document.getElementById("ServerAuthTemplateListViewGridBlock").innerHTML=server_txt;
                        result['server_details'] = server_details;
                    }
                }
                resolve(data);
                // $("#overlayer").delay(2000).css("display", "none");
                $("#overlayer").css("display", "none");

            })
            .fail(function(data) {
                console.log('Ajax failed to fetch data');
                console.log(data);
                reject(data);
                // $("#overlayer").delay(2000).css("display", "none");
                $("#overlayer").css("display", "none");
            });
        });
    }

    $(document).ready(function () {
        fetchServerDetails('https://q9rhxh2zc3.execute-api.us-east-1.amazonaws.com/v1/servers-health');
        enableCopyButton();

        $('#sc-container').on('click', '#sc-start-button, #sc-details-button', function () {
            console.log('Running speedtest');
            var existCondition = setInterval(function () {
                if ($('#sc-results.sc-is-visible.sc-is-shown').length) {
                    console.log("Exiting speedtest");
                    clearInterval(existCondition);
                    getSpeedCheckResults()
                }
            }, 100);
        });
    });
</script>

</body>
</html>